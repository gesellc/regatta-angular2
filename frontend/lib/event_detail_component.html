<div *ngIf="event != null" class="container">
    <h2>Event</h2>
    <form (ngSubmit)="onSubmit()" #eventForm="ngForm">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" required [(ngModel)]="event.name" ngControl="name" #name="ngForm">
            <div [hidden]="name.valid" class="alert alert-danger">
                Name is required
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6">
                <div class="form-group">
                    <label for="start_date">Start Date</label>
                    <input type="date" class="form-control" required
                           [(ngModel)]="event.startDateStr"
                           ngControl="start_date"
                           #start_date="ngForm">
                    <div [hidden]="start_date.valid" class="alert alert-danger">
                        Start date is required
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="form-group">
                    <label for="end_date">End Date</label>
                    <input type="date" class="form-control" required
                           [(ngModel)]="event.endDateStr"
                           ngControl="end_date"
                           #end_date="ngForm">
                    <div [hidden]="end_date.valid" class="alert alert-danger">
                        End date is required
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group">
            <label for="race_count">Race count</label>
            <input type="number" class="form-control" required [(ngModel)]="event.race_count" ngControl="race_count" #race_count="ngForm">
            <div [hidden]="race_count.valid" class="alert alert-danger">
                Race count is required
            </div>
        </div>

        <div class="form-group">
            <label for="race_unrated_on">Race unrated on</label>
            <input type="text" class="form-control" [(ngModel)]="event.race_unrated_on" ngControl="race_unrated_on" #name="ngForm">
        </div>

        <div class="form-group">
            <label for="organizer">Organizer</label>
            <select class="form-control" gControl="organizerDropdown">
                <option *ngFor="let sailing_club of sailing_clubs" [selected]="sailing_club.url == event.organizer"
                        value="{{sailing_club.id}}">{{sailing_club.name}}</option>
            </select>
        </div>

        <button type="submit" class="btn btn-default" [disabled]="!eventForm.form.valid">Submit</button>
        <button type="button" class="btn btn-default" (click)="goBack()">Back</button>
    </form>
</div>